@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Cool gray background */
    --background: 210 15% 96%;
    --foreground: 220 15% 15%;

    /* Cards with clean white */
    --card: 0 0% 100%;
    --card-foreground: 220 15% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 15% 15%;

    /* Primary - Beautiful blue */
    --primary: 210 85% 55%;
    --primary-foreground: 0 0% 100%;
    --primary-soft: 210 80% 94%;

    /* Secondary - cool slate */
    --secondary: 210 20% 95%;
    --secondary-foreground: 220 15% 25%;

    /* Muted */
    --muted: 210 15% 93%;
    --muted-foreground: 220 10% 45%;

    /* Accent - light blue tones */
    --accent: 210 70% 94%;
    --accent-foreground: 210 85% 40%;

    /* Destructive */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    /* Borders - very subtle */
    --border: 210 15% 90%;
    --input: 210 15% 90%;
    --ring: 210 85% 55%;

    --radius: 1.25rem;

    /* Macro colors - cohesive palette */
    --calories: 210 85% 55%;
    --calories-light: 210 80% 94%;
    --protein: 280 65% 55%;
    --protein-light: 280 70% 95%;
    --carbs: 45 85% 55%;
    --carbs-light: 45 80% 94%;
    --fat: 340 70% 55%;
    --fat-light: 340 70% 95%;

    /* Success states */
    --success: 150 60% 45%;
    --success-foreground: 0 0% 100%;
    --success-light: 150 60% 94%;

    /* Warning */
    --warning: 35 90% 55%;
    --warning-foreground: 0 0% 100%;

    /* Gradient for cards */
    --gradient-primary: linear-gradient(135deg, hsl(210, 80%, 94%) 0%, hsl(210, 75%, 85%) 100%);
    --gradient-card: linear-gradient(180deg, hsl(210, 80%, 94%) 0%, hsl(210, 75%, 88%) 100%);

    /* Sidebar - matching cool tones */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 220 15% 25%;
    --sidebar-primary: 210 85% 55%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 210 70% 94%;
    --sidebar-accent-foreground: 210 85% 40%;
    --sidebar-border: 210 15% 92%;
    --sidebar-ring: 210 85% 55%;
  }

  .dark {
    /* Near-black background */
    --background: 220 15% 7%;
    --foreground: 0 0% 95%;

    /* Cards - cool dark gray with glass effect */
    --card: 215 15% 13%;
    --card-foreground: 0 0% 95%;

    --popover: 215 15% 13%;
    --popover-foreground: 0 0% 95%;

    /* Primary - vibrant blue */
    --primary: 210 80% 55%;
    --primary-foreground: 0 0% 100%;
    --primary-soft: 210 40% 18%;

    /* Secondary */
    --secondary: 215 12% 16%;
    --secondary-foreground: 0 0% 80%;

    /* Muted - for subtle text and backgrounds */
    --muted: 215 12% 16%;
    --muted-foreground: 220 10% 50%;

    /* Accent */
    --accent: 215 15% 18%;
    --accent-foreground: 210 70% 65%;

    /* Destructive */
    --destructive: 0 72% 55%;
    --destructive-foreground: 0 0% 100%;

    /* Borders - very subtle */
    --border: 0 0% 100% / 0.1;
    --input: 215 12% 18%;
    --ring: 210 80% 55%;

    /* Macro colors for dark mode */
    --calories: 210 75% 58%;
    --calories-light: 210 35% 16%;
    --protein: 280 60% 60%;
    --protein-light: 280 30% 16%;
    --carbs: 45 80% 55%;
    --carbs-light: 45 35% 16%;
    --fat: 340 65% 58%;
    --fat-light: 340 30% 16%;

    /* Success - green for percentages */
    --success: 145 55% 48%;
    --success-light: 145 30% 16%;

    /* Warning */
    --warning: 35 85% 55%;

    /* Gradient for hero card - blue gradient */
    --gradient-primary: linear-gradient(135deg, hsl(210, 70%, 50%) 0%, hsl(215, 65%, 40%) 100%);
    --gradient-card: linear-gradient(180deg, hsl(215, 35%, 20%) 0%, hsl(220, 30%, 16%) 100%);

    /* Sidebar / Bottom nav */
    --sidebar-background: 220 15% 9%;
    --sidebar-foreground: 0 0% 75%;
    --sidebar-primary: 210 80% 55%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 215 12% 14%;
    --sidebar-accent-foreground: 0 0% 90%;
    --sidebar-border: 215 12% 16%;
    --sidebar-ring: 210 80% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-tap-highlight-color: transparent;
  }

  html {
    scroll-behavior: smooth;
  }

  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

@layer components {
  /* Glass card - KovaFit style */
  .glass-card {
    @apply relative overflow-hidden rounded-3xl backdrop-blur-xl;
    background: linear-gradient(135deg, rgba(30, 30, 35, 0.8) 0%, rgba(20, 20, 25, 0.9) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
      0 10px 30px rgba(0, 0, 0, 0.35),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
  }

  .light .glass-card,
  :root:not(.dark) .glass-card {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(250, 250, 250, 0.95) 100%);
    border: 1px solid rgba(0, 0, 0, 0.06);
    box-shadow: 
      0 10px 30px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }

  /* Hero gradient card */
  .glass-hero {
    @apply relative overflow-hidden rounded-3xl backdrop-blur-xl;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(37, 99, 235, 0.15) 50%, rgba(29, 78, 216, 0.2) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
      0 10px 30px rgba(0, 0, 0, 0.35),
      inset 0 1px 0 rgba(255, 255, 255, 0.08);
  }

  /* Atmosphere background with particles */
  .glass-scope {
    @apply relative;
  }

  .home-atmosphere {
    @apply fixed inset-0 pointer-events-none overflow-hidden;
    background: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.12), transparent 70%);
  }

  .dark .home-atmosphere {
    background: radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.18), transparent 70%);
  }

  .home-particle {
    @apply absolute rounded-full;
    background: rgba(59, 130, 246, 0.15);
    animation: float-particle 20s infinite ease-in-out;
  }

  .home-particle:nth-child(1) {
    width: 300px;
    height: 300px;
    top: -150px;
    left: 10%;
    animation-delay: 0s;
    filter: blur(80px);
  }

  .home-particle:nth-child(2) {
    width: 200px;
    height: 200px;
    top: 20%;
    right: -50px;
    animation-delay: -5s;
    filter: blur(60px);
  }

  .home-particle:nth-child(3) {
    width: 150px;
    height: 150px;
    bottom: 30%;
    left: -30px;
    animation-delay: -10s;
    filter: blur(50px);
  }

  .home-particle:nth-child(4) {
    width: 100px;
    height: 100px;
    top: 40%;
    right: 20%;
    animation-delay: -15s;
    filter: blur(40px);
  }

  .home-particle:nth-child(5) {
    width: 180px;
    height: 180px;
    bottom: 10%;
    right: 30%;
    animation-delay: -7s;
    filter: blur(70px);
  }

  @keyframes float-particle {
    0%, 100% {
      transform: translate(0, 0) scale(1);
      opacity: 0.4;
    }
    25% {
      transform: translate(30px, -20px) scale(1.1);
      opacity: 0.6;
    }
    50% {
      transform: translate(-20px, 30px) scale(0.9);
      opacity: 0.5;
    }
    75% {
      transform: translate(20px, 20px) scale(1.05);
      opacity: 0.55;
    }
  }

  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(200%);
    }
  }

  /* KovaFit pill nav */
  .nav-pill {
    @apply relative flex flex-row items-center w-full max-w-[520px] px-1.5 py-1.5 rounded-full;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0.06));
    backdrop-filter: blur(40px) saturate(1.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
      0 12px 40px rgba(0, 0, 0, 0.28),
      0 2px 10px rgba(0, 0, 0, 0.18),
      inset 0 1px 0 rgba(255, 255, 255, 0.12);
  }

  .light .nav-pill,
  :root:not(.dark) .nav-pill {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(250, 250, 250, 0.9));
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: 
      0 12px 40px rgba(0, 0, 0, 0.1),
      0 2px 10px rgba(0, 0, 0, 0.06),
      inset 0 1px 0 rgba(255, 255, 255, 1);
  }

  .nav-indicator {
    @apply absolute top-1.5 bottom-1.5 rounded-full;
    background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.12) 55%, rgba(0, 0, 0, 0.08) 100%);
    box-shadow: 
      0 6px 16px rgba(0, 0, 0, 0.35),
      inset 0 1px 0 rgba(255, 255, 255, 0.6);
    transition: left 0.5s cubic-bezier(0.2, 0.9, 0.2, 1);
  }

  .light .nav-indicator,
  :root:not(.dark) .nav-indicator {
    background: radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 1), rgba(240, 240, 240, 0.9) 55%, rgba(220, 220, 220, 0.8) 100%);
    box-shadow: 
      0 4px 12px rgba(0, 0, 0, 0.12),
      inset 0 1px 0 rgba(255, 255, 255, 1);
  }

  /* Section labels like KovaFit */
  .section-label {
    @apply text-[10px] font-semibold tracking-wider uppercase;
    color: rgba(255, 255, 255, 0.4);
  }

  .light .section-label,
  :root:not(.dark) .section-label {
    color: rgba(0, 0, 0, 0.4);
  }
}

@layer utilities {
  /* Macro color utilities */
  .text-calories {
    color: hsl(var(--calories));
  }
  .text-protein {
    color: hsl(var(--protein));
  }
  .text-carbs {
    color: hsl(var(--carbs));
  }
  .text-fat {
    color: hsl(var(--fat));
  }

  .bg-calories {
    background-color: hsl(var(--calories));
  }
  .bg-protein {
    background-color: hsl(var(--protein));
  }
  .bg-carbs {
    background-color: hsl(var(--carbs));
  }
  .bg-fat {
    background-color: hsl(var(--fat));
  }

  .bg-calories-light {
    background-color: hsl(var(--calories-light));
  }
  .bg-protein-light {
    background-color: hsl(var(--protein-light));
  }
  .bg-carbs-light {
    background-color: hsl(var(--carbs-light));
  }
  .bg-fat-light {
    background-color: hsl(var(--fat-light));
  }

  .bg-success {
    background-color: hsl(var(--success));
  }
  .bg-success-light {
    background-color: hsl(var(--success-light));
  }
  .text-success {
    color: hsl(var(--success));
  }

  /* Gradient card */
  .bg-gradient-card {
    background: linear-gradient(180deg, hsl(210, 80%, 94%) 0%, hsl(210, 75%, 88%) 100%);
  }

  .dark .bg-gradient-card {
    background: linear-gradient(180deg, hsl(215, 35%, 20%) 0%, hsl(220, 30%, 16%) 100%);
  }

  .bg-gradient-primary {
    background: linear-gradient(135deg, hsl(210, 75%, 52%) 0%, hsl(215, 70%, 42%) 100%);
  }

  .dark .bg-gradient-primary {
    background: linear-gradient(135deg, hsl(210, 70%, 50%) 0%, hsl(215, 65%, 40%) 100%);
  }

  /* Number font for macros */
  .font-tabular {
    font-variant-numeric: tabular-nums;
  }

  /* Safe area padding for PWA */
  .safe-top {
    padding-top: max(env(safe-area-inset-top), 0.75rem);
  }
  .safe-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 0.5rem);
  }
  .safe-x {
    padding-left: max(env(safe-area-inset-left), 1rem);
    padding-right: max(env(safe-area-inset-right), 1rem);
  }

  /* Text opacity utilities for glass design */
  .text-white-95 {
    color: rgba(255, 255, 255, 0.95);
  }
  .text-white-70 {
    color: rgba(255, 255, 255, 0.7);
  }
  .text-white-50 {
    color: rgba(255, 255, 255, 0.5);
  }
  .text-white-40 {
    color: rgba(255, 255, 255, 0.4);
  }
  .text-white-30 {
    color: rgba(255, 255, 255, 0.3);
  }
}